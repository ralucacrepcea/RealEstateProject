(this["webpackJsonpreal-estate-project"]=this["webpackJsonpreal-estate-project"]||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/real-estate.c644c448.png"},34:function(e,t,a){e.exports=a.p+"static/media/google.ec6fa182.png"},36:function(e,t,a){e.exports=a(70)},41:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(13),c=a.n(l),o=(a(41),a(16));a(49),a(50),a(51);o.initializeApp({apiKey:"AIzaSyAodfCUEmq0t18QNlbwuhFxw5RY3LhTMaE",authDomain:"realestateproject-a07dd.firebaseapp.com",projectId:"realestateproject-a07dd",storageBucket:"realestateproject-a07dd.firebasestorage.app",messagingSenderId:"330138017115",appId:"1:330138017115:web:28fdfbc68e86f5f13d8e7e"});const s=o.auth(),m=o.firestore(),u=o.storage(),i=new o.auth.GoogleAuthProvider,d=Object(r.createContext)();class p extends n.a.Component{constructor(...e){super(...e),this.state={products:[]}}componentDidMount(){const e=this.state.products;m.collection("Products").onSnapshot(t=>{t.docChanges().forEach(t=>{"added"===t.type&&e.push({ProductID:t.doc.id,ProductName:t.doc.data().ProductName,ProductPrice:t.doc.data().ProductPrice,ProductImg:t.doc.data().ProductImg}),this.setState({products:e})})})}render(){return n.a.createElement(d.Provider,{value:{products:[...this.state.products]}},this.props.children)}}var E=a(31),b=a.n(E),g=a(5),h=a(19),y=a(32),f=a(3),N=a(24),P=a(23);a(64);P.a.configure();const v=(e,t)=>{const{shoppingCart:a,totalPrice:r,totalQty:n}=e;let l,c,o,s;switch(t.type){case"ADD_TO_CART":return a.find(e=>e.ProductID===t.id)?(P.a.info("this product is already in your cart",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0}),e):(l=t.product,l.qty=1,l.TotalProductPrice=l.ProductPrice*l.qty,s=n+1,o=r+l.ProductPrice,{shoppingCart:[l,...a],totalPrice:o,totalQty:s});case"INC":return l=t.cart,l.qty=++l.qty,l.TotalProductPrice=l.qty*l.ProductPrice,s=n+1,o=r+l.ProductPrice,c=a.findIndex(e=>e.ProductID===t.id),a[c]=l,{shoppingCart:[...a],totalPrice:o,totalQty:s};case"DEC":return l=t.cart,l.qty>1?(l.qty=l.qty-1,l.TotalProductPrice=l.qty*l.ProductPrice,o=r-l.ProductPrice,s=n-1,c=a.findIndex(e=>e.ProductID===t.id),a[c]=l,{shoppingCart:[...a],totalPrice:o,totalQty:s}):e;case"DELETE":const m=a.filter(e=>e.ProductID!==t.id);return l=t.cart,s=n-l.qty,o=r-l.qty*l.ProductPrice,{shoppingCart:[...m],totalPrice:o,totalQty:s};case"EMPTY":return{shoppingCart:[],totalPrice:0,totalQty:0};default:return e}},C=Object(r.createContext)(),S=e=>{const[t,a]=Object(r.useReducer)(v,{shoppingCart:[],totalPrice:0,totalQty:0});return n.a.createElement(C.Provider,{value:Object(N.a)(Object(N.a)({},t),{},{dispatch:a})},e.children)},D=({user:e})=>{const t=Object(f.f)(),{totalQty:a}=Object(r.useContext)(C);return n.a.createElement("div",{className:"navbox"},n.a.createElement("div",{className:"leftside"},n.a.createElement("img",{src:b.a,alt:""})),!e&&n.a.createElement("div",{className:"rightside"},n.a.createElement("span",null,n.a.createElement(g.b,{to:"signup",className:"navlink"},"SIGN UP")),n.a.createElement("span",null,n.a.createElement(g.b,{to:"login",className:"navlink"},"LOGIN"))),e&&n.a.createElement("div",{className:"rightside"},n.a.createElement("span",null,n.a.createElement(g.b,{to:"/",className:"navlink"},e)),n.a.createElement("span",null,n.a.createElement(g.b,{to:"cartproducts",className:"navlink"},n.a.createElement(h.Icon,{icon:y.cart,size:26}))),n.a.createElement("span",{className:"no-of-products"},a),n.a.createElement("span",null,n.a.createElement("button",{className:"logout-btn",onClick:()=>{s.signOut().then(()=>{t.push("/login")})}},"Logout"))))},O=()=>{const{products:e}=Object(r.useContext)(d),{dispatch:t}=Object(r.useContext)(C);return n.a.createElement(n.a.Fragment,null,0!==e.length&&n.a.createElement("h1",{className:"centered-title"},"Available Properties"),n.a.createElement("div",{className:"products-container"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),0===e.length&&n.a.createElement("h3",null,"Currently there are no properties listed."),e.map(e=>{return n.a.createElement("div",{className:"product-card",key:e.ProductID},n.a.createElement("div",{className:"product-img"},n.a.createElement("img",{src:e.ProductImg,alt:"not found"})),n.a.createElement("div",{className:"product-name"},e.ProductName),n.a.createElement("div",{className:"product-price"},"$ ",(a=e.ProductPrice,new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(a))),n.a.createElement("button",{className:"addcart-btn",onClick:()=>t({type:"ADD_TO_CART",id:e.ProductID,product:e})},"ADD TO CART"));var a})))},j=({user:e})=>{const t=Object(f.f)();return Object(r.useEffect)(()=>{s.onAuthStateChanged(e=>{e||t.push("/login")})}),n.a.createElement("div",{className:"wrapper"},n.a.createElement(D,{user:e}),n.a.createElement(O,null))},I=e=>{const[t,a]=Object(r.useState)(""),[l,c]=Object(r.useState)(""),[o,u]=Object(r.useState)(""),[i,d]=Object(r.useState)("");return n.a.createElement("div",{className:"container"},n.a.createElement("br",null),n.a.createElement("h1",{className:"centered-title"},"Create an account to use Real Estate Website"),n.a.createElement("br",null),n.a.createElement("form",{autoComplete:"off",className:"form-group",onSubmit:r=>{r.preventDefault(),s.createUserWithEmailAndPassword(l,o).then(r=>{m.collection("SignedUpUsersData").doc(r.user.uid).set({Name:t,Email:l,Password:o}).then(()=>{a(""),c(""),u(""),d(""),e.history.push("/login")}).catch(e=>d(e.message))}).catch(e=>d(e.message))}},n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{type:"text",className:"form-control",required:!0,onChange:e=>a(e.target.value),value:t}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",className:"form-control",required:!0,onChange:e=>c(e.target.value),value:l}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"passowrd"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",required:!0,onChange:e=>u(e.target.value),value:o}),n.a.createElement("br",null),n.a.createElement("button",{type:"submit",className:"btn btn-success btn-md mybtn"},"SUBMIT")),i&&n.a.createElement("span",{className:"error-msg"},i),n.a.createElement("br",null),n.a.createElement("span",null,"Already have an account? Login",n.a.createElement(g.b,{to:"login"}," Here")))};var w=a(34),x=a.n(w);const F=e=>{const[t,a]=Object(r.useState)(""),[l,c]=Object(r.useState)(""),[o,u]=Object(r.useState)("");return n.a.createElement("div",{className:"container"},n.a.createElement("br",null),n.a.createElement("h1",{className:"centered-title"},"Log-In to Real Estate Website"),n.a.createElement("br",null),n.a.createElement("form",{autoComplete:"off",className:"form-group",onSubmit:r=>{r.preventDefault(),s.signInWithEmailAndPassword(t,l).then(()=>{a(""),c(""),u(""),e.history.push("/")}).catch(e=>u(e.message))}},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",className:"form-control",required:!0,onChange:e=>a(e.target.value),value:t}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",required:!0,onChange:e=>c(e.target.value),value:l}),n.a.createElement("br",null),n.a.createElement("button",{type:"submit",className:"btn btn-success btn-md mybtn"},"LOGIN")),o&&n.a.createElement("span",{className:"error-msg"},o),n.a.createElement("button",{onClick:()=>{s.signInWithPopup(i).then(t=>{const a=t.user;a&&m.collection("SignedUpUsersData").doc(a.uid).set({Name:a.displayName,Email:a.email},{merge:!0}),e.history.push("/")}).catch(e=>u(e.message))},className:"btn btn-md mybtn",style:{backgroundColor:"#d1cfcf",color:"#fff",border:"none"}},n.a.createElement("img",{src:x.a,alt:"Google Logo",style:{width:"20px",marginRight:"10px"}}),"Login with Google"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("span",null,"Don't have an account? Register",n.a.createElement(g.b,{to:"signup"}," Here")))},T=()=>n.a.createElement("div",null,"notfound");a(67),a(68);var q=a(35);const A=({user:e})=>{const t=e=>new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),{shoppingCart:a,dispatch:l,totalPrice:c,totalQty:o}=Object(r.useContext)(C),m=Object(f.f)();return Object(r.useEffect)(()=>{s.onAuthStateChanged(e=>{e||m.push("/login")})}),n.a.createElement(n.a.Fragment,null,n.a.createElement(D,{user:e}),n.a.createElement(n.a.Fragment,null,0!==a.length&&n.a.createElement("h1",{className:"centered-title"},"Your Cart"),n.a.createElement("div",{className:"cart-container"},0===a.length&&n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h3",null,"Currently you do not have any property in your cart."),n.a.createElement("br",null),n.a.createElement("h5",null,n.a.createElement(g.b,{to:"/"},"Return to All Available Properties"))),a&&a.map(e=>n.a.createElement("div",{className:"cart-card",key:e.ProductID},n.a.createElement("div",{className:"cart-img"},n.a.createElement("img",{src:e.ProductImg,alt:"not found"})),n.a.createElement("div",{className:"cart-name"},e.ProductName),n.a.createElement("div",{className:"cart-price-orignal"},"$ ",t(e.ProductPrice)),n.a.createElement("button",{className:"delete-btn",onClick:()=>l({type:"DELETE",id:e.ProductID,cart:e})},n.a.createElement(h.Icon,{icon:q.iosTrashOutline,size:24})))),a.length>0&&n.a.createElement("div",{className:"cart-summary"},n.a.createElement("div",{className:"cart-summary-heading"},"Property-Summary"),n.a.createElement("div",{className:"cart-summary-price"},n.a.createElement("span",null,"Total Price"),n.a.createElement("span",null,"$ ",t(c))),n.a.createElement(g.b,{to:"cashout",className:"cashout-link"},n.a.createElement("button",{className:"btn btn-success btn-md",style:{marginTop:"5px"}},"Contact Me"))))))},k=()=>{const[e,t]=Object(r.useState)(""),[a,l]=Object(r.useState)(0),[c,o]=Object(r.useState)(null),[s,i]=Object(r.useState)(""),d=["image/png","image/jpeg"];return n.a.createElement("div",{className:"container"},n.a.createElement("br",null),n.a.createElement("h2",null,"ADD PRODUCTS"),n.a.createElement("hr",null),n.a.createElement("form",{autoComplete:"off",className:"form-group",onSubmit:r=>{r.preventDefault();u.ref("product-images/".concat(c.name)).put(c).on("state_changed",e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log(t)},e=>i(e.message),()=>{u.ref("product-images").child(c.name).getDownloadURL().then(r=>{m.collection("Products").add({ProductName:e,ProductPrice:Number(a),ProductImg:r}).then(()=>{t(""),l(0),o(""),i(""),document.getElementById("file").value=""}).catch(e=>i(e.message))})})}},n.a.createElement("label",{htmlFor:"product-name"},"Product Name"),n.a.createElement("input",{type:"text",className:"form-control",required:!0,onChange:e=>t(e.target.value),value:e}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"product-price"},"Product Price"),n.a.createElement("input",{type:"number",className:"form-control",required:!0,onChange:e=>l(e.target.value),value:a}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"product-img"},"Product Image"),n.a.createElement("input",{type:"file",className:"form-control",id:"file",required:!0,onChange:e=>{let t=e.target.files[0];t&&d.includes(t.type)?(o(t),i("")):(o(null),i("Please select a valid image type (jpg or png)"))}}),n.a.createElement("br",null),n.a.createElement("button",{type:"submit",className:"btn btn-success btn-md mybtn"},"ADD")),s&&n.a.createElement("span",{className:"error-msg"},s))},U=e=>{const t=Object(f.f)(),{shoppingCart:a,totalPrice:l,totalQty:c,dispatch:o}=Object(r.useContext)(C),[u,i]=Object(r.useState)(""),[d,p]=Object(r.useState)(""),[E,b]=Object(r.useState)(""),[g,h]=Object(r.useState)(""),[y,N]=Object(r.useState)(""),[P,v]=Object(r.useState)("");Object(r.useEffect)(()=>{s.onAuthStateChanged(e=>{e?m.collection("SignedUpUsersData").doc(e.uid).onSnapshot(e=>{i(e.data().Name),p(e.data().Email)}):t.push("/login")})});return n.a.createElement(n.a.Fragment,null,n.a.createElement(D,{user:e.user}),n.a.createElement("div",{className:"container"},n.a.createElement("br",null),n.a.createElement("h1",{className:"centered-title"},"My Details"),n.a.createElement("br",null),P&&n.a.createElement("div",{className:"success-msg"},P),n.a.createElement("form",{autoComplete:"off",className:"form-group",onSubmit:e=>{e.preventDefault(),s.onAuthStateChanged(e=>{if(e){const a=(new Date).getTime();m.collection("Buyer-info "+e.uid).doc("_"+a).set({BuyerName:u,BuyerEmail:d,BuyerCell:E,BuyerPayment:l}).then(()=>{b(""),h(""),o({type:"EMPTY"}),v("Your order has been placed successfully. Thanks for visiting us. You will be redirected to home page after 5 seconds"),setTimeout(()=>{t.push("/")},5e3)}).catch(e=>N(e.message))}})}},n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{type:"text",className:"form-control",required:!0,value:u,disabled:!0}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",className:"form-control",required:!0,value:d,disabled:!0}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"Cell No"},"Cell No"),n.a.createElement("input",{type:"number",className:"form-control",required:!0,onChange:e=>b(e.target.value),value:E,placeholder:"+40 7XXXXXXXX"}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"Price To Pay"},"Price To Pay"),n.a.createElement("input",{type:"text",className:"form-control",required:!0,value:"$ ".concat((S=l,new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(S))),disabled:!0}),n.a.createElement("br",null),n.a.createElement("button",{type:"submit",className:"btn btn-success btn-md mybtn"},"SUBMIT")),y&&n.a.createElement("span",{className:"error-msg"},y)));var S};class B extends r.Component{constructor(...e){super(...e),this.state={user:null}}componentDidMount(){s.onAuthStateChanged(e=>{e?m.collection("SignedUpUsersData").doc(e.uid).get().then(e=>{this.setState({user:e.data().Name})}):this.setState({user:null})})}render(){return n.a.createElement(p,null,n.a.createElement(S,null,n.a.createElement(g.a,null,n.a.createElement(f.c,null,n.a.createElement(f.a,{exact:!0,path:"/",component:()=>n.a.createElement(j,{user:this.state.user})}),n.a.createElement(f.a,{path:"/signup",component:I}),n.a.createElement(f.a,{path:"/login",component:F}),n.a.createElement(f.a,{path:"/cartproducts",component:()=>n.a.createElement(A,{user:this.state.user})}),n.a.createElement(f.a,{path:"/addproducts",component:k}),n.a.createElement(f.a,{path:"/cashout",component:()=>n.a.createElement(U,{user:this.state.user})}),n.a.createElement(f.a,{component:T})))))}}var R=B;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(69);c.a.render(n.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[36,1,2]]]);
//# sourceMappingURL=main.b0152192.chunk.js.map