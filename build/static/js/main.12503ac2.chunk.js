(this["webpackJsonpreal-estate-project"]=this["webpackJsonpreal-estate-project"]||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/real-estate.0a53458e.png"},33:function(e,t,a){e.exports=a.p+"static/media/google.ec6fa182.png"},35:function(e,t,a){e.exports=a(69)},40:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(11),c=a.n(l),o=(a(40),a(17));a(48),a(49),a(50);o.initializeApp({apiKey:"AIzaSyAodfCUEmq0t18QNlbwuhFxw5RY3LhTMaE",authDomain:"realestateproject-a07dd.firebaseapp.com",projectId:"realestateproject-a07dd",storageBucket:"realestateproject-a07dd.firebasestorage.app",messagingSenderId:"330138017115",appId:"1:330138017115:web:28fdfbc68e86f5f13d8e7e"});const s=o.auth(),m=o.firestore(),u=o.storage(),i=new o.auth.GoogleAuthProvider,d=Object(r.createContext)();class p extends n.a.Component{constructor(){super(...arguments),this.state={products:[]}}componentDidMount(){const e=this.state.products;m.collection("Products").onSnapshot(t=>{t.docChanges().forEach(t=>{"added"===t.type&&e.push({ProductID:t.doc.id,ProductName:t.doc.data().ProductName,ProductPrice:t.doc.data().ProductPrice,ProductImg:t.doc.data().ProductImg}),this.setState({products:e})})})}render(){return n.a.createElement(d.Provider,{value:{products:[...this.state.products]}},this.props.children)}}var E=a(30),b=a.n(E),h=a(5),g=a(20),f=a(31),N=a(3),y=a(22),v=a(16);a(29);v.a.configure();const P=(e,t)=>{const{shoppingCart:a,totalPrice:r,totalQty:n}=e;let l,c,o;switch(t.type){case"ADD_TO_CART":return a.find(e=>e.ProductID===t.id)?(v.a.error("This property is already in your cart!",{position:"top-center",autoClose:4e3}),e):(l=t.product,l.qty=1,l.TotalProductPrice=l.ProductPrice*l.qty,o=n+1,c=r+l.ProductPrice,v.a.success("Property added to cart successfully!",{position:"top-center",autoClose:4e3}),{shoppingCart:[l,...a],totalPrice:c,totalQty:o});case"DELETE":const s=a.filter(e=>e.ProductID!==t.id);l=t.cart,o=n-l.qty,c=r-l.qty*l.ProductPrice;const m={shoppingCart:a,totalPrice:r,totalQty:n};return t.showUndoToast(m),{shoppingCart:[...s],totalPrice:c,totalQty:o};case"UNDO_DELETE":return t.previousState;case"EMPTY":return{shoppingCart:[],totalPrice:0,totalQty:0};default:return e}},C=Object(r.createContext)(),O=e=>{const[t,a]=Object(r.useReducer)(P,{shoppingCart:[],totalPrice:0,totalQty:0});return n.a.createElement(C.Provider,{value:Object(y.a)(Object(y.a)({},t),{},{dispatch:a})},e.children)},S=e=>{let{user:t}=e;const a=Object(N.f)(),{totalQty:l}=Object(r.useContext)(C);return n.a.createElement("div",{className:"navbox"},n.a.createElement("div",{className:"leftside"},n.a.createElement("img",{src:b.a,alt:""})),!t&&n.a.createElement("div",{className:"rightside"},n.a.createElement("span",null,n.a.createElement(h.b,{to:"signup",className:"navlink"},"SIGN UP")),n.a.createElement("span",null,n.a.createElement(h.b,{to:"login",className:"navlink"},"LOGIN"))),t&&n.a.createElement("div",{className:"rightside"},n.a.createElement("span",null,n.a.createElement(h.b,{to:"/",className:"navlink"},t)),n.a.createElement("span",null,n.a.createElement(h.b,{to:"cartproducts",className:"navlink"},n.a.createElement(g.Icon,{icon:f.cart,size:26}))),n.a.createElement("span",{className:"no-of-products"},l),n.a.createElement("span",null,n.a.createElement("button",{className:"logout-btn",onClick:()=>{s.signOut().then(()=>{a.push("/login")})}},"LOGOUT"))))},D=()=>{const{products:e}=Object(r.useContext)(d),{dispatch:t}=Object(r.useContext)(C);return n.a.createElement(n.a.Fragment,null,0!==e.length&&n.a.createElement("h1",{className:"centered-title"},"Available Properties"),n.a.createElement("div",{className:"products-container"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),0===e.length&&n.a.createElement("h3",null,"Currently there are no properties listed."),e.map(e=>{return n.a.createElement("div",{className:"product-card",key:e.ProductID},n.a.createElement("div",{className:"product-img"},n.a.createElement("img",{src:e.ProductImg,alt:"not found"})),n.a.createElement("div",{className:"product-name"},e.ProductName),n.a.createElement("div",{className:"product-price"},"$ ",(a=e.ProductPrice,new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(a))),n.a.createElement("button",{className:"addcart-btn",onClick:()=>t({type:"ADD_TO_CART",id:e.ProductID,product:e})},"ADD TO CART"));var a})))},j=e=>{let{user:t}=e;const a=Object(N.f)();return Object(r.useEffect)(()=>{s.onAuthStateChanged(e=>{e||a.push("/login")})}),n.a.createElement("div",{className:"wrapper"},n.a.createElement(S,{user:t}),n.a.createElement(D,null))},w=e=>{const[t,a]=Object(r.useState)(""),[l,c]=Object(r.useState)(""),[o,u]=Object(r.useState)(""),[i,d]=Object(r.useState)("");return n.a.createElement("div",{className:"container"},n.a.createElement("br",null),n.a.createElement("h1",{className:"centered-title"},"Create an account to use Real Estate Website"),n.a.createElement("br",null),n.a.createElement("form",{autoComplete:"off",className:"form-group",onSubmit:r=>{r.preventDefault(),s.createUserWithEmailAndPassword(l,o).then(r=>{m.collection("SignedUpUsersData").doc(r.user.uid).set({Name:t,Email:l,Password:o}).then(()=>{a(""),c(""),u(""),d(""),e.history.push("/login")}).catch(e=>d(e.message))}).catch(e=>d(e.message))}},n.a.createElement("label",{htmlFor:"name"},"Name:"),n.a.createElement("input",{type:"text",className:"form-control",required:!0,onChange:e=>a(e.target.value),value:t}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"email"},"Email:"),n.a.createElement("input",{type:"email",className:"form-control",required:!0,onChange:e=>c(e.target.value),value:l}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"passowrd"},"Password:"),n.a.createElement("input",{type:"password",className:"form-control",required:!0,onChange:e=>u(e.target.value),value:o}),n.a.createElement("br",null),n.a.createElement("button",{type:"submit",className:"btn btn-success btn-md mybtn"},"REGISTER")),i&&n.a.createElement("span",{className:"error-msg"},i),n.a.createElement("br",null),n.a.createElement("span",null,"Already have an account? Login",n.a.createElement(h.b,{to:"login"}," Here")))};var I=a(33),T=a.n(I);const x=e=>{const[t,a]=Object(r.useState)(""),[l,c]=Object(r.useState)(""),[o,u]=Object(r.useState)(""),d=e=>{switch(e){case"auth/user-not-found":return"No account found with this email address.";case"auth/wrong-password":return"Invalid password. Please try again.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/user-disabled":return"This account has been disabled. Contact support.";default:return"Wrong credentials!"}};return n.a.createElement("div",{className:"container"},n.a.createElement("br",null),n.a.createElement("h1",{className:"centered-title"},"Log-In to Real Estate Website"),n.a.createElement("br",null),n.a.createElement("form",{autoComplete:"off",className:"form-group",onSubmit:r=>{r.preventDefault(),s.signInWithEmailAndPassword(t,l).then(()=>{a(""),c(""),u(""),e.history.push("/")}).catch(e=>u(d(e.code)))}},n.a.createElement("label",{htmlFor:"email"},"Email:"),n.a.createElement("input",{type:"email",className:"form-control",required:!0,onChange:e=>a(e.target.value),value:t}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"password"},"Password:"),n.a.createElement("input",{type:"password",className:"form-control",required:!0,onChange:e=>c(e.target.value),value:l}),o&&n.a.createElement("span",{className:"error-msg"},o),n.a.createElement("br",null),n.a.createElement("div",{className:"half-br"}),n.a.createElement("button",{type:"submit",className:"btn btn-success btn-md mybtn"},"LOGIN")),n.a.createElement("button",{onClick:()=>{s.signInWithPopup(i).then(t=>{const a=t.user;a&&m.collection("SignedUpUsersData").doc(a.uid).set({Name:a.displayName,Email:a.email},{merge:!0}),e.history.push("/")}).catch(e=>u(d(e.code)))},className:"btn btn-md mybtn",style:{backgroundColor:"#d1cfcf",color:"#fff",border:"none"}},n.a.createElement("img",{src:T.a,alt:"Google Logo",style:{width:"20px",marginRight:"10px"}}),"LOGIN WITH GOOGLE"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("span",null,"Don't have an account? Register",n.a.createElement(h.b,{to:"signup"}," Here")))},F=()=>n.a.createElement("div",null,"notfound");var A=a(34);const U=e=>{let{user:t}=e;const a=e=>new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),{shoppingCart:l,dispatch:c,totalPrice:o,totalQty:m}=Object(r.useContext)(C),u=Object(N.f)();Object(r.useEffect)(()=>{s.onAuthStateChanged(e=>{e||u.push("/login")})},[u]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(S,{user:t}),n.a.createElement(n.a.Fragment,null,0!==l.length&&n.a.createElement("h1",{className:"centered-title"},"Cart Summary"),n.a.createElement("div",{className:"cart-container"},0===l.length&&n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h3",null,"Currently you do not have any properties in your cart."),n.a.createElement("br",null),n.a.createElement("h5",null,n.a.createElement(h.b,{to:"/"},"Return to All Available Properties"))),l&&l.map(e=>n.a.createElement("div",{className:"cart-card",key:e.ProductID},n.a.createElement("div",{className:"cart-img"},n.a.createElement("img",{src:e.ProductImg,alt:"not found"})),n.a.createElement("div",{className:"cart-name"},e.ProductName),n.a.createElement("div",{className:"cart-price-orignal"},"$ ",a(e.ProductPrice)),n.a.createElement("button",{className:"delete-btn",onClick:()=>(e=>{c({type:"DELETE",id:e.ProductID,cart:e,showUndoToast:e=>{v.a.info(n.a.createElement("div",null,"Property deleted from cart successfully!",n.a.createElement("button",{onClick:()=>{c({type:"UNDO_DELETE",previousState:e}),v.a.dismiss()},style:{backgroundColor:"1px solid #ffffff",border:"1px solid #ffffff",color:"#007bff",textDecoration:"none",cursor:"pointer",borderRadius:"5px",padding:"5px 10px",fontWeight:"bold",marginLeft:"10px",transition:"background-color 0.3s, color 0.3s"}},"Undo")),{position:"top-center",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1})}})})(e)},n.a.createElement(g.Icon,{icon:A.iosTrashOutline,size:24})))),l.length>0&&n.a.createElement("div",{className:"cart-summary"},n.a.createElement("div",{className:"cart-summary-heading"},"Cart:"),n.a.createElement("div",{className:"cart-summary-price"},n.a.createElement("span",null,"Total Price"),n.a.createElement("span",null,"$ ",a(o))),n.a.createElement(h.b,{to:"cashout",className:"cashout-link"},n.a.createElement("button",{className:"btn btn-success btn-md",style:{marginTop:"5px"}},"CONTACT ME"))))))},k=()=>{const[e,t]=Object(r.useState)(""),[a,l]=Object(r.useState)(0),[c,o]=Object(r.useState)(null),[s,i]=Object(r.useState)(""),d=["image/png","image/jpeg"];return n.a.createElement("div",{className:"container"},n.a.createElement("br",null),n.a.createElement("h2",null,"ADD PRODUCTS"),n.a.createElement("hr",null),n.a.createElement("form",{autoComplete:"off",className:"form-group",onSubmit:r=>{r.preventDefault();u.ref("product-images/".concat(c.name)).put(c).on("state_changed",e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log(t)},e=>i(e.message),()=>{u.ref("product-images").child(c.name).getDownloadURL().then(r=>{m.collection("Products").add({ProductName:e,ProductPrice:Number(a),ProductImg:r}).then(()=>{t(""),l(0),o(""),i(""),document.getElementById("file").value=""}).catch(e=>i(e.message))})})}},n.a.createElement("label",{htmlFor:"product-name"},"Product Name"),n.a.createElement("input",{type:"text",className:"form-control",required:!0,onChange:e=>t(e.target.value),value:e}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"product-price"},"Product Price"),n.a.createElement("input",{type:"number",className:"form-control",required:!0,onChange:e=>l(e.target.value),value:a}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"product-img"},"Product Image"),n.a.createElement("input",{type:"file",className:"form-control",id:"file",required:!0,onChange:e=>{let t=e.target.files[0];t&&d.includes(t.type)?(o(t),i("")):(o(null),i("Please select a valid image type (jpg or png)"))}}),n.a.createElement("br",null),n.a.createElement("button",{type:"submit",className:"btn btn-success btn-md mybtn"},"ADD")),s&&n.a.createElement("span",{className:"error-msg"},s))},q=e=>{const t=Object(N.f)(),{shoppingCart:a,totalPrice:l,totalQty:c,dispatch:o}=Object(r.useContext)(C),[u,i]=Object(r.useState)(""),[d,p]=Object(r.useState)(""),[E,b]=Object(r.useState)(""),[h,g]=Object(r.useState)(""),[f,y]=Object(r.useState)(""),[v,P]=Object(r.useState)("");Object(r.useEffect)(()=>{s.onAuthStateChanged(e=>{e?m.collection("SignedUpUsersData").doc(e.uid).onSnapshot(e=>{i(e.data().Name),p(e.data().Email)}):t.push("/login")})});return n.a.createElement(n.a.Fragment,null,n.a.createElement(S,{user:e.user}),n.a.createElement("div",{className:"container"},n.a.createElement("br",null),n.a.createElement("h1",{className:"centered-title"},"My Details"),n.a.createElement("br",null),v&&n.a.createElement("div",{className:"success-msg"},v),n.a.createElement("form",{autoComplete:"off",className:"form-group",onSubmit:e=>{e.preventDefault(),s.onAuthStateChanged(e=>{if(e){const e=(new Date).getTime();m.collection("Buyer-info").doc(e.toString()).set({BuyerName:u,BuyerEmail:d,BuyerCell:E,BuyerPayment:l}).then(()=>{b(""),g(""),o({type:"EMPTY"}),P("Your order has been placed successfully. Thanks for visiting us. You will be redirected to home page after 5 seconds"),setTimeout(()=>{t.push("/")},5e3)}).catch(e=>y(e.message))}})}},n.a.createElement("label",{htmlFor:"name"},"Name:"),n.a.createElement("input",{type:"text",className:"form-control",required:!0,value:u,disabled:!0}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"email"},"Email:"),n.a.createElement("input",{type:"email",className:"form-control",required:!0,value:d,disabled:!0}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"Cell No"},"Phone number:"),n.a.createElement("input",{type:"number",className:"form-control",required:!0,onChange:e=>b(e.target.value),value:E,placeholder:"+40 7XXXXXXXX"}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"Price To Pay"},"Total reservation price:"),n.a.createElement("input",{type:"text",className:"form-control",required:!0,value:"$ ".concat((O=l,new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(O))),disabled:!0}),n.a.createElement("br",null),n.a.createElement("button",{type:"submit",className:"btn btn-success btn-md mybtn"},"SUBMIT REQUEST")),f&&n.a.createElement("span",{className:"error-msg"},f)));var O};class R extends r.Component{constructor(){super(...arguments),this.state={user:null}}componentDidMount(){s.onAuthStateChanged(e=>{e?m.collection("SignedUpUsersData").doc(e.uid).get().then(e=>{this.setState({user:e.data().Name})}):this.setState({user:null})})}render(){return n.a.createElement(p,null,n.a.createElement(O,null,n.a.createElement(h.a,null,n.a.createElement(N.c,null,n.a.createElement(N.a,{exact:!0,path:"/",component:()=>n.a.createElement(j,{user:this.state.user})}),n.a.createElement(N.a,{path:"/signup",component:w}),n.a.createElement(N.a,{path:"/login",component:x}),n.a.createElement(N.a,{path:"/cartproducts",component:()=>n.a.createElement(U,{user:this.state.user})}),n.a.createElement(N.a,{path:"/addproducts",component:k}),n.a.createElement(N.a,{path:"/cashout",component:()=>n.a.createElement(q,{user:this.state.user})}),n.a.createElement(N.a,{component:F})))))}}var L=R;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(68);c.a.render(n.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[35,1,2]]]);
//# sourceMappingURL=main.12503ac2.chunk.js.map