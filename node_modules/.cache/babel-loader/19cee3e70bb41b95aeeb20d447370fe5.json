{"ast":null,"code":"import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';toast.configure();export const CartReducer=(state,action)=>{const{shoppingCart,totalPrice,totalQty}=state;let product;let index;let updatedPrice;let updatedQty;switch(action.type){case'ADD_TO_CART':const check=shoppingCart.find(product=>product.ProductID===action.id);if(check){toast.info('this product is already in your cart',{position:\"top-right\",autoClose:2000,hideProgressBar:false,closeOnClick:true,pauseOnHover:false,draggable:false,progress:undefined});return state;}else{product=action.product;product['qty']=1;product['TotalProductPrice']=product.ProductPrice*product.qty;updatedQty=totalQty+1;updatedPrice=totalPrice+product.ProductPrice;return{shoppingCart:[product,...shoppingCart],totalPrice:updatedPrice,totalQty:updatedQty};}break;case'INC':product=action.cart;product.qty=++product.qty;product.TotalProductPrice=product.qty*product.ProductPrice;updatedQty=totalQty+1;updatedPrice=totalPrice+product.ProductPrice;index=shoppingCart.findIndex(cart=>cart.ProductID===action.id);shoppingCart[index]=product;return{shoppingCart:[...shoppingCart],totalPrice:updatedPrice,totalQty:updatedQty};break;case'DEC':product=action.cart;if(product.qty>1){product.qty=product.qty-1;product.TotalProductPrice=product.qty*product.ProductPrice;updatedPrice=totalPrice-product.ProductPrice;updatedQty=totalQty-1;index=shoppingCart.findIndex(cart=>cart.ProductID===action.id);shoppingCart[index]=product;return{shoppingCart:[...shoppingCart],totalPrice:updatedPrice,totalQty:updatedQty};}else{return state;}break;case'DELETE':const filtered=shoppingCart.filter(product=>product.ProductID!==action.id);product=action.cart;updatedQty=totalQty-product.qty;updatedPrice=totalPrice-product.qty*product.ProductPrice;return{shoppingCart:[...filtered],totalPrice:updatedPrice,totalQty:updatedQty};break;case'EMPTY':return{shoppingCart:[],totalPrice:0,totalQty:0};default:return state;}};","map":{"version":3,"names":["toast","configure","CartReducer","state","action","shoppingCart","totalPrice","totalQty","product","index","updatedPrice","updatedQty","type","check","find","ProductID","id","info","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","ProductPrice","qty","cart","TotalProductPrice","findIndex","filtered","filter"],"sources":["/Users/raluca-mariacrepcea/Desktop/RealEstate/EcommercsWithReactAndFirebase/src/Global/CartReducer.js"],"sourcesContent":["import { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\ntoast.configure();\n\nexport const CartReducer = (state, action) => {\n\n    const { shoppingCart, totalPrice, totalQty } = state;\n\n    let product;\n    let index;\n    let updatedPrice;\n    let updatedQty;\n\n    switch (action.type) {\n\n        case 'ADD_TO_CART':\n\n            const check = shoppingCart.find(product => product.ProductID === action.id);\n            if (check) {\n                toast.info('this product is already in your cart', {\n                    position: \"top-right\",\n                    autoClose: 2000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: false,\n                    draggable: false,\n                    progress: undefined,\n                });\n                return state;\n            }\n            else {\n                product = action.product;\n                product['qty'] = 1;\n                product['TotalProductPrice'] = product.ProductPrice * product.qty;\n                updatedQty = totalQty + 1;\n                updatedPrice = totalPrice + product.ProductPrice;\n                return {\n                    shoppingCart: [product, ...shoppingCart], totalPrice: updatedPrice, totalQty: updatedQty\n                }\n            }\n            break;\n\n        case 'INC':\n            product = action.cart;\n            product.qty = ++product.qty;\n            product.TotalProductPrice = product.qty * product.ProductPrice;\n            updatedQty = totalQty + 1;\n            updatedPrice = totalPrice + product.ProductPrice;\n            index = shoppingCart.findIndex(cart => cart.ProductID === action.id);\n            shoppingCart[index] = product;\n            return {\n                shoppingCart: [...shoppingCart], totalPrice: updatedPrice, totalQty: updatedQty\n            }\n            break;\n\n        case 'DEC':\n            product = action.cart;\n            if (product.qty > 1) {\n                product.qty = product.qty - 1;\n                product.TotalProductPrice = product.qty * product.ProductPrice;\n                updatedPrice = totalPrice - product.ProductPrice;\n                updatedQty = totalQty - 1;\n                index = shoppingCart.findIndex(cart => cart.ProductID === action.id);\n                shoppingCart[index] = product;\n                return {\n                    shoppingCart: [...shoppingCart], totalPrice: updatedPrice, totalQty: updatedQty\n                }\n            }\n            else {\n                return state;\n            }\n            break;\n\n        case 'DELETE':\n            const filtered = shoppingCart.filter(product => product.ProductID !== action.id);\n            product = action.cart;\n            updatedQty = totalQty - product.qty;\n            updatedPrice = totalPrice - product.qty * product.ProductPrice;\n            return {\n                shoppingCart: [...filtered], totalPrice: updatedPrice, totalQty: updatedQty\n            }\n            break;\n\n        case 'EMPTY':\n            return {\n                shoppingCart: [], totalPrice: 0, totalQty: 0\n            }\n\n        default:\n            return state;\n\n    }\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}