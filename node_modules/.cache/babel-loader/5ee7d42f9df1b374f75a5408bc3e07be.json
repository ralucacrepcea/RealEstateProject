{"ast":null,"code":"var _jsxFileName = \"/Users/raluca-mariacrepcea/Desktop/RealEstateProject/src/Components/AddProducts.js\";\nimport React, { useState } from 'react';\nimport { storage, db } from '../Config/Config';\nexport const AddProducts = () => {\n  const [productName, setProductName] = useState('');\n  const [productPrice, setProductPrice] = useState(0);\n  const [productImg, setProductImg] = useState(null);\n  const [error, setError] = useState('');\n  const types = ['image/png', 'image/jpeg']; // image types\n\n  const productImgHandler = e => {\n    let selectedFile = e.target.files[0];\n    if (selectedFile && types.includes(selectedFile.type)) {\n      setProductImg(selectedFile);\n      setError('');\n    } else {\n      setProductImg(null);\n      setError('Please select a valid image type (jpg or png)');\n    }\n  };\n\n  // add product\n  const addProduct = e => {\n    e.preventDefault();\n    const uploadTask = storage.ref(`product-images/${productImg.name}`).put(productImg);\n    uploadTask.on('state_changed', snapshot => {\n      const progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n      console.log(progress);\n    }, err => setError(err.message), () => {\n      storage.ref('product-images').child(productImg.name).getDownloadURL().then(url => {\n        db.collection('Products').add({\n          ProductName: productName,\n          ProductPrice: Number(productPrice),\n          ProductImg: url\n        }).then(() => {\n          setProductName('');\n          setProductPrice(0);\n          setProductImg('');\n          setError('');\n          document.getElementById('file').value = '';\n        }).catch(err => setError(err.message));\n      });\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"ADD PRODUCTS\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    autoComplete: \"off\",\n    className: \"form-group\",\n    onSubmit: addProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"product-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"Product Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    required: true,\n    onChange: e => setProductName(e.target.value),\n    value: productName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"product-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"Product Price\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    required: true,\n    onChange: e => setProductPrice(e.target.value),\n    value: productPrice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"product-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \"Product Image\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    className: \"form-control\",\n    id: \"file\",\n    required: true,\n    onChange: productImgHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-success btn-md mybtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, \"ADD\")), error && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error-msg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 23\n    }\n  }, error));\n};","map":{"version":3,"names":["React","useState","storage","db","AddProducts","productName","setProductName","productPrice","setProductPrice","productImg","setProductImg","error","setError","types","productImgHandler","e","selectedFile","target","files","includes","type","addProduct","preventDefault","uploadTask","ref","name","put","on","snapshot","progress","bytesTransferred","totalBytes","console","log","err","message","child","getDownloadURL","then","url","collection","add","ProductName","ProductPrice","Number","ProductImg","document","getElementById","value","catch","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","autoComplete","onSubmit","htmlFor","required","onChange","id"],"sources":["/Users/raluca-mariacrepcea/Desktop/RealEstateProject/src/Components/AddProducts.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { storage, db } from '../Config/Config'\n\nexport const AddProducts = () => {\n\n    const [productName, setProductName] = useState('');\n    const [productPrice, setProductPrice] = useState(0);\n    const [productImg, setProductImg] = useState(null);\n    const [error, setError] = useState('');\n\n    const types = ['image/png', 'image/jpeg']; // image types\n\n    const productImgHandler = (e) => {\n        let selectedFile = e.target.files[0];\n        if (selectedFile && types.includes(selectedFile.type)) {\n            setProductImg(selectedFile);\n            setError('')\n        }\n        else {\n            setProductImg(null);\n            setError('Please select a valid image type (jpg or png)');\n        }\n    }\n\n    // add product\n    const addProduct = (e) => {\n        e.preventDefault();\n        const uploadTask = storage.ref(`product-images/${productImg.name}`).put(productImg);\n        uploadTask.on('state_changed', snapshot => {\n            const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n            console.log(progress);\n        }, err => setError(err.message)\n            , () => {\n                storage.ref('product-images').child(productImg.name).getDownloadURL().then(url => {\n                    db.collection('Products').add({\n                        ProductName: productName,\n                        ProductPrice: Number(productPrice),\n                        ProductImg: url\n                    }).then(() => {\n                        setProductName('');\n                        setProductPrice(0)\n                        setProductImg('');\n                        setError('');\n                        document.getElementById('file').value = '';\n                    }).catch(err => setError(err.message))\n                })\n            })\n    }\n\n    return (\n        <div className='container'>\n            <br />\n            <h2>ADD PRODUCTS</h2>\n            <hr />\n            <form autoComplete=\"off\" className='form-group' onSubmit={addProduct}>\n                <label htmlFor=\"product-name\">Product Name</label>\n                <input type=\"text\" className='form-control' required\n                    onChange={(e) => setProductName(e.target.value)} value={productName} />\n                <br />\n                <label htmlFor=\"product-price\">Product Price</label>\n                <input type=\"number\" className='form-control' required\n                    onChange={(e) => setProductPrice(e.target.value)} value={productPrice} />\n                <br />\n                <label htmlFor=\"product-img\">Product Image</label>\n                <input type=\"file\" className='form-control' id=\"file\" required\n                    onChange={productImgHandler} />\n                <br />\n                <button type=\"submit\" className='btn btn-success btn-md mybtn'>ADD</button>\n            </form>\n            {error && <span className='error-msg'>{error}</span>}\n        </div>\n    )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}