{"ast":null,"code":"import { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\ntoast.configure();\nexport const CartReducer = (state, action) => {\n  const {\n    shoppingCart,\n    totalPrice,\n    totalQty\n  } = state;\n  let product;\n  let index;\n  let updatedPrice;\n  let updatedQty;\n  switch (action.type) {\n    case 'ADD_TO_CART':\n      const check = shoppingCart.find(product => product.ProductID === action.id);\n      if (check) {\n        toast.info('this product is already in your cart', {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: false,\n          draggable: false,\n          progress: undefined\n        });\n        return state;\n      } else {\n        product = action.product;\n        product['qty'] = 1;\n        product['TotalProductPrice'] = product.ProductPrice * product.qty;\n        updatedQty = totalQty + 1;\n        updatedPrice = totalPrice + product.ProductPrice;\n        return {\n          shoppingCart: [product, ...shoppingCart],\n          totalPrice: updatedPrice,\n          totalQty: updatedQty\n        };\n      }\n      break;\n    case 'INC':\n      product = action.cart;\n      product.qty = ++product.qty;\n      product.TotalProductPrice = product.qty * product.ProductPrice;\n      updatedQty = totalQty + 1;\n      updatedPrice = totalPrice + product.ProductPrice;\n      index = shoppingCart.findIndex(cart => cart.ProductID === action.id);\n      shoppingCart[index] = product;\n      return {\n        shoppingCart: [...shoppingCart],\n        totalPrice: updatedPrice,\n        totalQty: updatedQty\n      };\n      break;\n    case 'DEC':\n      product = action.cart;\n      if (product.qty > 1) {\n        product.qty = product.qty - 1;\n        product.TotalProductPrice = product.qty * product.ProductPrice;\n        updatedPrice = totalPrice - product.ProductPrice;\n        updatedQty = totalQty - 1;\n        index = shoppingCart.findIndex(cart => cart.ProductID === action.id);\n        shoppingCart[index] = product;\n        return {\n          shoppingCart: [...shoppingCart],\n          totalPrice: updatedPrice,\n          totalQty: updatedQty\n        };\n      } else {\n        return state;\n      }\n      break;\n    case 'DELETE':\n      const filtered = shoppingCart.filter(product => product.ProductID !== action.id);\n      product = action.cart;\n      updatedQty = totalQty - product.qty;\n      updatedPrice = totalPrice - product.qty * product.ProductPrice;\n      return {\n        shoppingCart: [...filtered],\n        totalPrice: updatedPrice,\n        totalQty: updatedQty\n      };\n      break;\n    case 'EMPTY':\n      return {\n        shoppingCart: [],\n        totalPrice: 0,\n        totalQty: 0\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["toast","configure","CartReducer","state","action","shoppingCart","totalPrice","totalQty","product","index","updatedPrice","updatedQty","type","check","find","ProductID","id","info","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","ProductPrice","qty","cart","TotalProductPrice","findIndex","filtered","filter"],"sources":["/Users/raluca-mariacrepcea/Desktop/RealEstate/EcommercsWithReactAndFirebase/src/Global/CartReducer.js"],"sourcesContent":["import { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\ntoast.configure();\n\nexport const CartReducer = (state, action) => {\n\n    const { shoppingCart, totalPrice, totalQty } = state;\n\n    let product;\n    let index;\n    let updatedPrice;\n    let updatedQty;\n\n    switch (action.type) {\n\n        case 'ADD_TO_CART':\n\n            const check = shoppingCart.find(product => product.ProductID === action.id);\n            if (check) {\n                toast.info('this product is already in your cart', {\n                    position: \"top-right\",\n                    autoClose: 2000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: false,\n                    draggable: false,\n                    progress: undefined,\n                });\n                return state;\n            }\n            else {\n                product = action.product;\n                product['qty'] = 1;\n                product['TotalProductPrice'] = product.ProductPrice * product.qty;\n                updatedQty = totalQty + 1;\n                updatedPrice = totalPrice + product.ProductPrice;\n                return {\n                    shoppingCart: [product, ...shoppingCart], totalPrice: updatedPrice, totalQty: updatedQty\n                }\n            }\n            break;\n\n        case 'INC':\n            product = action.cart;\n            product.qty = ++product.qty;\n            product.TotalProductPrice = product.qty * product.ProductPrice;\n            updatedQty = totalQty + 1;\n            updatedPrice = totalPrice + product.ProductPrice;\n            index = shoppingCart.findIndex(cart => cart.ProductID === action.id);\n            shoppingCart[index] = product;\n            return {\n                shoppingCart: [...shoppingCart], totalPrice: updatedPrice, totalQty: updatedQty\n            }\n            break;\n\n        case 'DEC':\n            product = action.cart;\n            if (product.qty > 1) {\n                product.qty = product.qty - 1;\n                product.TotalProductPrice = product.qty * product.ProductPrice;\n                updatedPrice = totalPrice - product.ProductPrice;\n                updatedQty = totalQty - 1;\n                index = shoppingCart.findIndex(cart => cart.ProductID === action.id);\n                shoppingCart[index] = product;\n                return {\n                    shoppingCart: [...shoppingCart], totalPrice: updatedPrice, totalQty: updatedQty\n                }\n            }\n            else {\n                return state;\n            }\n            break;\n\n        case 'DELETE':\n            const filtered = shoppingCart.filter(product => product.ProductID !== action.id);\n            product = action.cart;\n            updatedQty = totalQty - product.qty;\n            updatedPrice = totalPrice - product.qty * product.ProductPrice;\n            return {\n                shoppingCart: [...filtered], totalPrice: updatedPrice, totalQty: updatedQty\n            }\n            break;\n\n        case 'EMPTY':\n            return {\n                shoppingCart: [], totalPrice: 0, totalQty: 0\n            }\n\n        default:\n            return state;\n\n    }\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}