{"ast":null,"code":"import React,{createContext}from'react';import{db}from'../Config/Config';export const ProductsContext=createContext();export class ProductsContextProvider extends React.Component{constructor(...args){super(...args);this.state={products:[]};}componentDidMount(){const prevProducts=this.state.products;db.collection('Products').onSnapshot(snapshot=>{let changes=snapshot.docChanges();changes.forEach(change=>{if(change.type==='added'){prevProducts.push({ProductID:change.doc.id,ProductName:change.doc.data().ProductName,ProductPrice:change.doc.data().ProductPrice,ProductImg:change.doc.data().ProductImg});}this.setState({products:prevProducts});});});}render(){return/*#__PURE__*/React.createElement(ProductsContext.Provider,{value:{products:[...this.state.products]}},this.props.children);}}","map":{"version":3,"names":["React","createContext","db","ProductsContext","ProductsContextProvider","Component","constructor","args","state","products","componentDidMount","prevProducts","collection","onSnapshot","snapshot","changes","docChanges","forEach","change","type","push","ProductID","doc","id","ProductName","data","ProductPrice","ProductImg","setState","render","createElement","Provider","value","props","children"],"sources":["/Users/raluca-mariacrepcea/Desktop/RealEstate/EcommercsWithReactAndFirebase/src/Global/ProductsContext.js"],"sourcesContent":["import React, { createContext } from 'react'\nimport { db } from '../Config/Config'\n\nexport const ProductsContext = createContext();\n\nexport class ProductsContextProvider extends React.Component {\n\n    state = {\n        products: []\n    }\n\n    componentDidMount() {\n\n        const prevProducts = this.state.products;\n        db.collection('Products').onSnapshot(snapshot => {\n            let changes = snapshot.docChanges();\n            changes.forEach(change => {\n                if (change.type === 'added') {\n                    prevProducts.push({\n                        ProductID: change.doc.id,\n                        ProductName: change.doc.data().ProductName,\n                        ProductPrice: change.doc.data().ProductPrice,\n                        ProductImg: change.doc.data().ProductImg\n                    })\n                }\n                this.setState({\n                    products: prevProducts\n                })\n            })\n        })\n\n    }\n    render() {\n        return (\n            <ProductsContext.Provider value={{ products: [...this.state.products] }}>\n                {this.props.children}\n            </ProductsContext.Provider>\n        )\n    }\n}\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,KAAQ,OAAO,CAC5C,OAASC,EAAE,KAAQ,kBAAkB,CAErC,MAAO,MAAM,CAAAC,eAAe,CAAGF,aAAa,CAAC,CAAC,CAE9C,MAAO,MAAM,CAAAG,uBAAuB,QAAS,CAAAJ,KAAK,CAACK,SAAU,CAAAC,YAAA,GAAAC,IAAA,WAAAA,IAAA,OAEzDC,KAAK,CAAG,CACJC,QAAQ,CAAE,EACd,CAAC,EAEDC,iBAAiBA,CAAA,CAAG,CAEhB,KAAM,CAAAC,YAAY,CAAG,IAAI,CAACH,KAAK,CAACC,QAAQ,CACxCP,EAAE,CAACU,UAAU,CAAC,UAAU,CAAC,CAACC,UAAU,CAACC,QAAQ,EAAI,CAC7C,GAAI,CAAAC,OAAO,CAAGD,QAAQ,CAACE,UAAU,CAAC,CAAC,CACnCD,OAAO,CAACE,OAAO,CAACC,MAAM,EAAI,CACtB,GAAIA,MAAM,CAACC,IAAI,GAAK,OAAO,CAAE,CACzBR,YAAY,CAACS,IAAI,CAAC,CACdC,SAAS,CAAEH,MAAM,CAACI,GAAG,CAACC,EAAE,CACxBC,WAAW,CAAEN,MAAM,CAACI,GAAG,CAACG,IAAI,CAAC,CAAC,CAACD,WAAW,CAC1CE,YAAY,CAAER,MAAM,CAACI,GAAG,CAACG,IAAI,CAAC,CAAC,CAACC,YAAY,CAC5CC,UAAU,CAAET,MAAM,CAACI,GAAG,CAACG,IAAI,CAAC,CAAC,CAACE,UAClC,CAAC,CAAC,CACN,CACA,IAAI,CAACC,QAAQ,CAAC,CACVnB,QAAQ,CAAEE,YACd,CAAC,CAAC,CACN,CAAC,CAAC,CACN,CAAC,CAAC,CAEN,CACAkB,MAAMA,CAAA,CAAG,CACL,mBACI7B,KAAA,CAAA8B,aAAA,CAAC3B,eAAe,CAAC4B,QAAQ,EAACC,KAAK,CAAE,CAAEvB,QAAQ,CAAE,CAAC,GAAG,IAAI,CAACD,KAAK,CAACC,QAAQ,CAAE,CAAE,EACnE,IAAI,CAACwB,KAAK,CAACC,QACU,CAAC,CAEnC,CACJ","ignoreList":[]},"metadata":{},"sourceType":"module"}