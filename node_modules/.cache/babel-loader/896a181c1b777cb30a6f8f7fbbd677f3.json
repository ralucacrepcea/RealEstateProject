{"ast":null,"code":"var _jsxFileName = \"/Users/raluca-mariacrepcea/Desktop/RealEstate/EcommercsWithReactAndFirebase/src/Components/Cashout.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { auth, db } from '../Config/Config';\nimport { CartContext } from '../Global/CartContext';\nimport { Navbar } from './Navbar';\nimport { useHistory } from 'react-router-dom';\nexport const Cashout = props => {\n  const history = useHistory();\n  const {\n    shoppingCart,\n    totalPrice,\n    totalQty,\n    dispatch\n  } = useContext(CartContext);\n\n  // defining state\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [cell, setCell] = useState('');\n  const [address, setAddress] = useState('');\n  const [error, setError] = useState('');\n  const [successMsg, setSuccessMsg] = useState('');\n  useEffect(() => {\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        db.collection('SignedUpUsersData').doc(user.uid).onSnapshot(snapshot => {\n          setName(snapshot.data().Name);\n          setEmail(snapshot.data().Email);\n        });\n      } else {\n        history.push('/login');\n      }\n    });\n  });\n  const cashoutSubmit = e => {\n    e.preventDefault();\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        const date = new Date();\n        const time = date.getTime();\n        db.collection('Buyer-info ' + user.uid).doc('_' + time).set({\n          BuyerName: name,\n          BuyerEmail: email,\n          BuyerCell: cell,\n          // BuyerAddress: address,\n          BuyerPayment: totalPrice\n          // BuyerQuantity: totalQty\n        }).then(() => {\n          setCell('');\n          setAddress('');\n          dispatch({\n            type: 'EMPTY'\n          });\n          setSuccessMsg('Your order has been placed successfully. Thanks for visiting us. You will be redirected to home page after 5 seconds');\n          setTimeout(() => {\n            history.push('/');\n          }, 5000);\n        }).catch(err => setError(err.message));\n      }\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n    user: props.user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"centered-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, \"Your Cart\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }), successMsg && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"success-msg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 32\n    }\n  }, successMsg), /*#__PURE__*/React.createElement(\"form\", {\n    autoComplete: \"off\",\n    className: \"form-group\",\n    onSubmit: cashoutSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    required: true,\n    value: name,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    required: true,\n    value: email,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"Cell No\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, \"Cell No\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    required: true,\n    onChange: e => setCell(e.target.value),\n    value: cell,\n    placeholder: \"+40 7XXXXXXXX\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"Price To Pay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, \"Price To Pay\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    required: true,\n    value: totalPrice,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-success btn-md mybtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, \"SUBMIT\")), error && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error-msg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 27\n    }\n  }, error)));\n};","map":{"version":3,"names":["React","useState","useEffect","useContext","auth","db","CartContext","Navbar","useHistory","Cashout","props","history","shoppingCart","totalPrice","totalQty","dispatch","name","setName","email","setEmail","cell","setCell","address","setAddress","error","setError","successMsg","setSuccessMsg","onAuthStateChanged","user","collection","doc","uid","onSnapshot","snapshot","data","Name","Email","push","cashoutSubmit","e","preventDefault","date","Date","time","getTime","set","BuyerName","BuyerEmail","BuyerCell","BuyerPayment","then","type","setTimeout","catch","err","message","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","autoComplete","onSubmit","htmlFor","required","value","disabled","onChange","target","placeholder"],"sources":["/Users/raluca-mariacrepcea/Desktop/RealEstate/EcommercsWithReactAndFirebase/src/Components/Cashout.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\nimport { auth, db } from '../Config/Config'\nimport { CartContext } from '../Global/CartContext'\nimport { Navbar } from './Navbar';\nimport { useHistory } from 'react-router-dom'\n\nexport const Cashout = (props) => {\n\n    const history = useHistory();\n\n    const { shoppingCart, totalPrice, totalQty, dispatch } = useContext(CartContext);\n\n    // defining state\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [cell, setCell] = useState('');\n    const [address, setAddress] = useState('');\n    const [error, setError] = useState('');\n    const [successMsg, setSuccessMsg] = useState('');\n\n    useEffect(() => {\n        auth.onAuthStateChanged(user => {\n            if (user) {\n                db.collection('SignedUpUsersData').doc(user.uid).onSnapshot(snapshot => {\n                    setName(snapshot.data().Name);\n                    setEmail(snapshot.data().Email);\n                })\n            }\n            else {\n                history.push('/login')\n            }\n        })\n    })\n\n    const cashoutSubmit = (e) => {\n        e.preventDefault();\n        auth.onAuthStateChanged(user => {\n            if (user) {\n                const date = new Date();\n                const time = date.getTime();\n                db.collection('Buyer-info ' + user.uid).doc('_' + time).set({\n                    BuyerName: name,\n                    BuyerEmail: email,\n                    BuyerCell: cell,\n                   // BuyerAddress: address,\n                    BuyerPayment: totalPrice,\n                   // BuyerQuantity: totalQty\n                }).then(() => {\n                    setCell('');\n                    setAddress('');\n                    dispatch({ type: 'EMPTY' })\n                    setSuccessMsg('Your order has been placed successfully. Thanks for visiting us. You will be redirected to home page after 5 seconds');\n                    setTimeout(() => {\n                        history.push('/')\n                    }, 5000)\n                }).catch(err => setError(err.message))\n            }\n        })\n    }\n\n    return (\n        <>\n            <Navbar user={props.user} />\n            <div className='container'>\n                <br />\n                <h1 className=\"centered-title\">Your Cart</h1>\n                <br />\n                {successMsg && <div className='success-msg'>{successMsg}</div>}\n                <form autoComplete=\"off\" className='form-group' onSubmit={cashoutSubmit}>\n                    <label htmlFor=\"name\">Name</label>\n                    <input type=\"text\" className='form-control' required\n                        value={name} disabled />\n                    <br />\n                    <label htmlFor=\"email\">Email</label>\n                    <input type=\"email\" className='form-control' required\n                        value={email} disabled />\n                    <br />\n                    <label htmlFor=\"Cell No\">Cell No</label>\n                    <input type=\"number\" className='form-control' required\n                        onChange={(e) => setCell(e.target.value)} value={cell} placeholder='+40 7XXXXXXXX' />\n                    <br />\n                    <label htmlFor=\"Price To Pay\">Price To Pay</label>\n                    <input type=\"number\" className='form-control' required\n                        value={totalPrice} disabled />\n                    <br />\n                    <button type=\"submit\" className='btn btn-success btn-md mybtn'>SUBMIT</button>\n                </form>\n                {error && <span className='error-msg'>{error}</span>}\n            </div>\n        </>\n    )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}